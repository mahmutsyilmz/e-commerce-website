<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" type="text/css" href="/css/styles.css">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>
<body>
<header>
    <h1>E-Commerce Site</h1>
    <nav>
        <ul>
            <li><a href="/home.html">Home</a></li>
            <li><a href="/register.html">Register</a></li>
            <li><a href="/login.html">Login</a></li>
        </ul>
    </nav>
</header>
<main>
    <div class="tabs">
        <button class="tab-button" onclick="showTab('categories')">Categories</button>
        <button class="tab-button" onclick="showTab('products')">Products</button>
    </div>
    <section id="categories" class="tab-content">
        <h2>Categories</h2>
        <button onclick="getAllCategories()">Get All Categories</button>
        <ul id="category-list">
            <!-- Kategoriler buraya eklenecek -->
        </ul>
    </section>
    <section id="products" class="tab-content">
        <h2>Products</h2>
        <button onclick="getAllProducts()">Get All Products</button>
        <ul id="product-list">
            <!-- Ürünler buraya eklenecek -->
        </ul>
    </section>
</main>
<script>
    function showTab(tabName) {
        const contents = document.querySelectorAll('.tab-content');
        contents.forEach(content => {
            content.style.display = 'none';
        });

        document.getElementById(tabName).style.display = 'block';
    }

    document.addEventListener('DOMContentLoaded', () => {
        showTab('categories');
    });

    async function getAllCategories() {
        try {
            const response = await fetch('/api/categories/getAll');
            if (response.ok) {
                const categories = await response.json();
                const categoryList = document.getElementById('category-list');
                categoryList.innerHTML = '';

                categories.forEach(category => {
                    const li = document.createElement('li');
                    li.textContent = category.name;
                    categoryList.appendChild(li);
                });
            } else {
                console.error('Failed to fetch categories');
            }
        } catch (error) {
            console.error('Error:', error);
        }
    }

    async function getAllProducts() {
        try {
            const response = await fetch('/api/products/getAll');
            if (response.ok) {
                const products = await response.json();
                const productList = document.getElementById('product-list');
                productList.innerHTML = '';

                products.forEach(product => {
                    const li = document.createElement('li');
                    li.textContent = product.name;
                    productList.appendChild(li);
                });
            } else {
                console.error('Failed to fetch products');
            }
        } catch (error) {
            console.error('Error:', error);
        }
    }
</script>
</body>
</html>